"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9483],{5112:(t,e,o)=>{o.r(e),o.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"getting-started/workflow-creation","title":"Workflow creation","description":"Explanation to create the stale action GitHub workflow and how to configure it. \\nContains also a suggestion regarding the cron job.\\n","source":"@site/docs/02-getting-started/01-workflow-creation.mdx","sourceDirName":"02-getting-started","slug":"/getting-started/workflow-creation","permalink":"/stale/fr/docs/getting-started/workflow-creation","draft":false,"unlisted":false,"editUrl":"https://github.com/Sonia-corporation/stale/tree/develop/documentation/docs/02-getting-started/01-workflow-creation.mdx","tags":[{"inline":true,"label":"Getting started","permalink":"/stale/fr/docs/tags/getting-started"},{"inline":true,"label":"Workflow configuration","permalink":"/stale/fr/docs/tags/workflow-configuration"},{"inline":true,"label":"Cron","permalink":"/stale/fr/docs/tags/cron"}],"version":"current","sidebarPosition":1,"frontMatter":{"id":"workflow-creation","title":"Workflow creation","description":"Explanation to create the stale action GitHub workflow and how to configure it. \\nContains also a suggestion regarding the cron job.\\n","tags":["Getting started","Workflow configuration","Cron"]},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/stale/fr/docs/introduction"},"next":{"title":"Workflow testing","permalink":"/stale/fr/docs/getting-started/workflow-testing"}}');var r=o(4848),i=o(8453);const a={id:"workflow-creation",title:"Workflow creation",description:"Explanation to create the stale action GitHub workflow and how to configure it. \nContains also a suggestion regarding the cron job.\n",tags:["Getting started","Workflow configuration","Cron"]},s=void 0,l={},c=[{value:"Create the workflow file",id:"create-the-workflow-file",level:2},{value:"Create the default stale action",id:"create-the-default-stale-action",level:2},{value:"Configure how to trigger your workflow",id:"configure-how-to-trigger-your-workflow",level:2}];function u(t){const e={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"The first step to start with this stale action is to create your GitHub workflow."}),"\n",(0,r.jsx)(e.h2,{id:"create-the-workflow-file",children:"Create the workflow file"}),"\n",(0,r.jsxs)(e.p,{children:["On your repository, create a new workflow inside the ",(0,r.jsx)(e.em,{children:".github/workflows"})," folder.",(0,r.jsx)(e.br,{}),"\n","For example: ",(0,r.jsx)(e.em,{children:"stale.yml"}),"."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:".\n\u2514\u2500\u2500 .github\n    \u2514\u2500\u2500 workflows\n        \u2514\u2500\u2500 stale.yml\n"})}),"\n",(0,r.jsx)(e.h2,{id:"create-the-default-stale-action",children:"Create the default stale action"}),"\n",(0,r.jsxs)(e.p,{children:["Now you can create the stale action with the ",(0,r.jsx)(e.a,{href:"../introduction#default-configuration",children:"default configuration"}),"."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yml",metastring:'title=".github/workflows/stale.yml"',children:'name: Stale\njobs:\n  Stale:\n    runs-on: ubuntu-latest\n    name: Run stale\n    steps:\n      - name: Checkout\n        id: checkout\n        uses: actions/checkout@v2\n      - name: Stale\n        id: stale\n        # We suggest replacing "latest" with the latest major tag like "sonia-corporation/stale@1"\n        # This will avoid in the future a risk to break your workflow when a new major (breaking change) occur or worst, by altering your items in a way that doesn\'t suit you\n        uses: sonia-corporation/stale@latest\n'})}),"\n",(0,r.jsx)(e.admonition,{type:"caution",children:(0,r.jsxs)(e.p,{children:["Make sure to acknowledge the comment regarding the ",(0,r.jsx)(e.code,{children:"latest"})," tag, this is for our own good \ud83d\ude09"]})}),"\n",(0,r.jsx)(e.h2,{id:"configure-how-to-trigger-your-workflow",children:"Configure how to trigger your workflow"}),"\n",(0,r.jsxs)(e.p,{children:["From the ",(0,r.jsx)(e.a,{href:"#create-the-default-stale-action",children:"previous step configuration"}),", your workflow will work but will never be triggered.",(0,r.jsx)(e.br,{}),"\n","You must define how/when you wish to run the stale action."]}),"\n",(0,r.jsxs)(e.p,{children:["For most repositories, running the action on daily basis and allowing it also to be ",(0,r.jsx)(e.a,{href:"https://github.blog/changelog/2020-07-06-github-actions-manual-triggers-with-workflow_dispatch/",children:"run manually"})," is a good choice."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yml",metastring:'{2-8} title=".github/workflows/stale.yml"',children:"name: Stale\non:\n  # Allow to run it manually on GitHub (a button will be visible)\n  # See https://github.blog/changelog/2020-07-06-github-actions-manual-triggers-with-workflow_dispatch/\n  workflow_dispatch:\n  # Schedule a cron job to be run each day at noon\n  schedule:\n    - cron: '0 12 * * *'\njobs:\n  # ...\n"})})]})}function d(t={}){const{wrapper:e}={...(0,i.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(u,{...t})}):u(t)}},8453:(t,e,o)=>{o.d(e,{R:()=>a,x:()=>s});var n=o(6540);const r={},i=n.createContext(r);function a(t){const e=n.useContext(i);return n.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function s(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:a(t.components),n.createElement(i.Provider,{value:e},t.children)}}}]);